{% from "badge/large/macro.njk" import badgeLarge %}
{% from "icon/macro.njk" import icon %}

{% set hasBadgeLarge = true if params.badgeLarge.count > 1 %}

<div class="nhsapp-card">
  <div class="nhsapp-card__container">
    {%- if params.prefixIcon -%}
      {{ icon(params.prefixIcon, 'nhsapp-icon') }}
    {%- endif -%}
    <div class="nhsapp-card__content">
      <a href="{{ params.href }}" class="nhsapp-card__link nhsuk-link--no-visited-state">
        {{ params.title }}
      </a>
      {%- if params.description -%}
        <div class="nhsapp-card__below">
          <p class="nhsuk-u-margin-top-1">{{ params.description }}</p>
        </div>
      {%- endif -%}
    </div>
    {% if hasBadgeLarge %}
      {{ badgeLarge({
        count: params.badgeLarge.count,
        label: params.badgeLarge.label
      }) }}
    {% endif %}
    {{ icon('chevronRight', 'nhsapp-icon app-icon--chevron') }}
  </div>
</div>
